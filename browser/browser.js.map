{
  "version": 3,
  "sources": [
    "E:\\Mes documents\\ff14\\js\\theMonk\\node_modules\\browserify\\node_modules\\browser-pack\\_prelude.js",
    "E:/Mes documents/ff14/js/theMonk/Models/Dragoon.js",
    "E:/Mes documents/ff14/js/theMonk/Models/Monk.js",
    "E:/Mes documents/ff14/js/theMonk/lib/Actor.js",
    "E:/Mes documents/ff14/js/theMonk/lib/Aura.js",
    "E:/Mes documents/ff14/js/theMonk/lib/Errors/RotationError.js",
    "E:/Mes documents/ff14/js/theMonk/lib/Errors/RotationSyntaxError.js",
    "E:/Mes documents/ff14/js/theMonk/lib/Rotation.js",
    "E:/Mes documents/ff14/js/theMonk/lib/Scheduled2.js",
    "E:/Mes documents/ff14/js/theMonk/lib/Simulation.js",
    "E:/Mes documents/ff14/js/theMonk/lib/Skill.js",
    "E:/Mes documents/ff14/js/theMonk/lib/Stats.js",
    "E:/Mes documents/ff14/js/theMonk/lib/browser/Script.js",
    "E:/Mes documents/ff14/js/theMonk/lib/browser/vm.js",
    "E:/Mes documents/ff14/js/theMonk/node_modules/browserify/node_modules/events/events.js",
    "E:/Mes documents/ff14/js/theMonk/node_modules/browserify/node_modules/inherits/inherits_browser.js",
    "E:/Mes documents/ff14/js/theMonk/node_modules/browserify/node_modules/process/browser.js",
    "E:/Mes documents/ff14/js/theMonk/node_modules/browserify/node_modules/util/support/isBufferBrowser.js",
    "E:/Mes documents/ff14/js/theMonk/node_modules/browserify/node_modules/util/util.js",
    "./index.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/DA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5kBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "var Skill = require('../lib/Skill').createSkill,\r\n\tCombo = require('../lib/Skill').createCombo,\r\n\tAura = require('../lib/Aura').createAura,\r\n\textend = require(\"util\")._extend;\r\n\r\nexports = module.exports = Dragoon;\r\n\r\nfunction Dragoon() {\r\n\tvar skills = this.skills;\r\n\r\n\tthis.skills = {};\r\n\r\n\tfor(var i in skills) this.skills[i] = new skills[i];\r\n}\r\n\r\nextend(Dragoon.prototype, {\r\n\r\n\tprepareForBattle: function(time, source) {\r\n\t},\r\n\r\n\tskills: {\r\n\r\n\t\t/*\r\n\t\t\t--- Skills ---\r\n\t\t*/\r\n\r\n\t\tHeavyThrust: Skill({\r\n\t\t\tname: \"HeavyThrust\",\r\n\t\t\tpotency: 170,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.HeavyThrust, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tTrueThrust: Skill({\r\n\t\t\tname: \"TrueThrust\",\r\n\t\t\tpotency: 150,\r\n\t\t}),\r\n\r\n\t\tVorpalThrust: Combo(\"TrueThrust\", {\r\n\t\t\tname: \"VorpalThrust\",\r\n\t\t\tpotency: 200,\r\n\t\t}),\r\n\r\n\t\tFullThrust: Combo(\"VorpalThrust\", {\r\n\t\t\tname: \"FullThrust\",\r\n\t\t\tpotency: 330,\r\n\t\t}),\r\n\r\n\t\tImpulseDrive: Skill({\r\n\t\t\tname: \"ImpulseDrive\",\r\n\t\t\tpotency: 180,\r\n\t\t}),\r\n\r\n\t\tDisembowel: Combo(\"ImpulseDrive\", {\r\n\t\t\tname: \"Disembowel\",\r\n\t\t\tpotency: 220,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\ttarget.applyAura(source.model.auras.Disembowel, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\t/*\r\n\t\t\t--- DOTs ---\r\n\t\t*/\r\n\r\n\t\tChaosThrust: Combo(\"Disembowel\", {\r\n\t\t\tname: \"ChaosThrust\",\r\n\t\t\tpotency: 200,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\ttarget.applyAura(source.model.auras.ChaosThrustDOT, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tPhlebotomize: Skill({\r\n\t\t\tname: \"Phlebotomize\",\r\n\t\t\tpotency: 170,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\ttarget.applyAura(source.model.auras.PhlebotomizeDOT, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tFracture: Skill({\r\n\t\t\tname: \"Fracture\",\r\n\t\t\tpotency: 100,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\ttarget.applyAura(source.model.auras.FractureDOT, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\t/*\r\n\t\t\t--- Buffs ---\r\n\t\t*/\r\n\r\n\t\tInternalRelease: Skill({\r\n\t\t\tname: \"InternalRelease\",\r\n\t\t\trecast: 60,\r\n\t\t\tisOffGCD: true,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.InternalRelease, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tBloodForBlood: Skill({\r\n\t\t\tname: \"BloodForBlood\",\r\n\t\t\trecast: 80,\r\n\t\t\tisOffGCD: true,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.BloodForBlood, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tLifeSurge: Skill({\r\n\t\t\tname: \"LifeSurge\",\r\n\t\t\trecast: 90,\r\n\t\t\tisOffGCD: true,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.LifeSurge, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tPowerSurge: Skill({\r\n\t\t\tname: \"PowerSurge\",\r\n\t\t\trecast: 60,\r\n\t\t\tisOffGCD: true,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.PowerSurge, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\t/*\r\n\t\t\t--- OffGCD ---\r\n\t\t*/\r\n\r\n\t\tLegSweep: Skill({\r\n\t\t\tname: \"LegSweep\",\r\n\t\t\tpotency: 130,\r\n\t\t\trecast: 20,\r\n\t\t\tisOffGCD: true,\r\n\t\t}),\r\n\r\n\t\tJump: Skill({\r\n\t\t\tname: \"Jump\",\r\n\t\t\tpotency: 200,\r\n\t\t\trecast: 40,\r\n\t\t\tisOffGCD: true,\r\n\t\t\tgetPotency: function(source, target, time) {\r\n\t\t\t\tvar aura;\r\n\t\t\t\tif(aura = source.findAura(\"PowerSurge\", source)) {\r\n\t\t\t\t\tsource.removeAura(aura, time);\r\n\t\t\t\t\treturn this.potency * 1.5;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn this.potency;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}),\r\n\r\n\t\tSpineshatterDive: Skill({\r\n\t\t\tname: \"SpineshatterDive\",\r\n\t\t\tpotency: 170,\r\n\t\t\trecast: 90,\r\n\t\t\tisOffGCD: true,\r\n\t\t\tgetPotency: function(source, target, time) {\r\n\t\t\t\tvar aura;\r\n\t\t\t\tif(aura = source.findAura(\"PowerSurge\", source)) {\r\n\t\t\t\t\tsource.removeAura(aura, time);\r\n\t\t\t\t\treturn this.potency * 1.5;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn this.potency;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}),\r\n\r\n\t\tDragonfireDive: Skill({\r\n\t\t\tname: \"DragonfireDive\",\r\n\t\t\tpotency: 250,\r\n\t\t\trecast: 180,\r\n\t\t\tisOffGCD: true,\r\n\t\t}),\r\n\r\n\t},\r\n\r\n\tauras: {\r\n\r\n\t\t/*\r\n\t\t\t--- Buffs ---\r\n\t\t*/\r\n\r\n\t\tHeavyThrust: Aura({\r\n\t\t\tname: \"HeavyThrust\",\r\n\t\t\tduration: 20,\r\n\t\t\tincreaseDamage: 1.15,\r\n\t\t}),\r\n\r\n\t\tInternalRelease: Aura({\r\n\t\t\tname: \"InternalRelease\",\r\n\t\t\tduration: 15,\r\n\t\t\tadditionalCriticalHitChance: 0.1,\r\n\t\t}),\r\n\r\n\t\tBloodForBlood: Aura({\r\n\t\t\tname: \"BloodForBlood\",\r\n\t\t\tduration: 20,\r\n\t\t\tincreaseDamage: 1.3,\r\n\t\t}),\r\n\r\n\t\tLifeSurge: Aura({\r\n\t\t\tname: \"LifeSurge\",\r\n\t\t\tduration: 10,\r\n\t\t\tadditionalSkillCriticalHitChance: 1,\r\n\t\t\tonApply: function(source, time) {\r\n\t\t\t\tvar onSkill, onExpire;\r\n\t\t\t\tsource.on(source.events.skill, onSkill = function(damage, critical, skill, time) {\r\n\t\t\t\t\tif(skill.potency) {\r\n\t\t\t\t\t\tsource.removeListener(source.events.skill, onSkill);\r\n\t\t\t\t\t\tsource.removeListener(source.events.auraExpire, onExpire);\r\n\t\t\t\t\t\tsource.removeAura(source.findAura(\"LifeSurge\", source), time);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsource.on(source.events.auraExpire, onExpire = function(aura, isExpired, time) {\r\n\t\t\t\t\tif(aura.name === \"LifeSurge\") {\r\n\t\t\t\t\t\tsource.removeListener(source.events.skill, onSkill);\r\n\t\t\t\t\t\tsource.removeListener(source.events.auraExpire, onExpire);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tPowerSurge: Aura({\r\n\t\t\tname: \"PowerSurge\",\r\n\t\t\tduration: 10,\r\n\t\t}),\r\n\r\n\t\t/*\r\n\t\t\t--- DOTs ---\r\n\t\t*/\r\n\r\n\t\tChaosThrustDOT: Aura({\r\n\t\t\tname: \"ChaosThrustDOT\",\r\n\t\t\tduration: 30,\r\n\t\t\tpotency: 30,\r\n\t\t}),\r\n\r\n\t\tPhlebotomizeDOT: Aura({\r\n\t\t\tname: \"PhlebotomizeDOT\",\r\n\t\t\tduration: 18,\r\n\t\t\tpotency: 25,\r\n\t\t}),\r\n\r\n\t\tFractureDOT: Aura({\r\n\t\t\tname: \"FractureDOT\",\r\n\t\t\tduration: 18,\r\n\t\t\tpotency: 20,\r\n\t\t}),\r\n\r\n\t\t/*\r\n\t\t\t--- Debuffs ---\r\n\t\t*/\r\n\r\n\t\tDisembowel: Aura({\r\n\t\t\tname: \"Disembowel\",\r\n\t\t\tduration: 30,\r\n\t\t\ttransformIncomingDamage: 1/0.9,\r\n\t\t}),\r\n\t}\r\n});",
    "var Skill = require('../lib/Skill').createSkill,\r\n\tAura = require('../lib/Aura').createAura,\r\n\textend = require(\"util\")._extend;\r\n\r\nexports = module.exports = Monk;\r\n\r\nfunction Monk() {\r\n\tvar skills = this.skills;\r\n\r\n\tthis.skills = {};\r\n\r\n\tfor(var i in skills) this.skills[i] = new skills[i];\r\n}\r\n\r\nextend(Monk.prototype, {\r\n\r\n\tprepareForBattle: function(time, source) {\r\n\t\t// source.applyAura(source.model.auras.PartyBonus, source, time);\r\n\t\tsource.applyAuraImmediate(source.model.auras.FistOfFire, source, time);\r\n\t\t// source.applyAura(source.model.auras.GreasedLigthning, source, time);\r\n\t\t// source.applyAura(source.model.auras.GreasedLigthning, source, time);\r\n\t\t// source.applyAura(source.model.auras.GreasedLigthning, source, time);\r\n\t\t// source.applyAura(source.model.auras.OpoOpoForm, source, time);\r\n\t},\r\n\r\n\tskills: {\r\n\r\n\t\t/*\r\n\t\t\t--- Skills ---\r\n\t\t*/\r\n\r\n\t\tBootshine: Skill({\r\n\t\t\tname: \"Bootshine\",\r\n\t\t\tpotency: 150,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.RaptorForm, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tBootshineRear: Skill({\r\n\t\t\tname: \"BootshineRear\",\r\n\t\t\tpotency: 150,\r\n\t\t\tstats: {\r\n\t\t\t\tcriticalHitChance:10\r\n\t\t\t},\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.RaptorForm, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tTrueStrike: Skill({\r\n\t\t\tname: \"TrueStrike\",\r\n\t\t\tpotency: 150,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.CoeurlForm, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tTrueStrikeRear: Skill({\r\n\t\t\tname: \"TrueStrikeRear\",\r\n\t\t\tpotency: 190,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.CoeurlForm, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tSnapPunch: Skill({\r\n\t\t\tname: \"SnapPunch\",\r\n\t\t\tpotency: 140,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.OpoOpoForm, source, time);\r\n\t\t\t\tsource.applyAura(source.model.auras.GreasedLigthning, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tSnapPunchFlank: Skill({\r\n\t\t\tname: \"SnapPunchFlank\",\r\n\t\t\tpotency: 180,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.OpoOpoForm, source, time);\r\n\t\t\t\tsource.applyAura(source.model.auras.GreasedLigthning, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tTwinSnakes: Skill({\r\n\t\t\tname: \"TwinSnakes\",\r\n\t\t\tpotency: 100,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.CoeurlForm, source, time);\r\n\t\t\t\tsource.applyAura(source.model.auras.TwinSnakes, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tTwinSnakesFlank: Skill({\r\n\t\t\tname: \"TwinSnakesFlank\",\r\n\t\t\tpotency: 140,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.CoeurlForm, source, time);\r\n\t\t\t\tsource.applyAura(source.model.auras.TwinSnakes, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tDragonKick: Skill({\r\n\t\t\tname: \"DragonKick\",\r\n\t\t\tpotency: 100,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.RaptorForm, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tDragonKickFlank: Skill({\r\n\t\t\tname: \"DragonKickFlank\",\r\n\t\t\tpotency: 150,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.RaptorForm, source, time);\r\n\t\t\t\ttarget.applyAura(source.model.auras.DragonKick, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tImpulseDrive: Skill({\r\n\t\t\tname: \"ImpulseDrive\",\r\n\t\t\tpotency: 100,\r\n\t\t}),\r\n\r\n\t\tImpulseDriveRear: Skill({\r\n\t\t\tname: \"ImpulseDriveRear\",\r\n\t\t\tpotency: 180,\r\n\t\t}),\r\n\r\n\t\t/*\r\n\t\t\t--- DOTs ---\r\n\t\t*/\r\n\r\n\t\tDemolish: Skill({\r\n\t\t\tname: \"Demolish\",\r\n\t\t\tpotency: 30,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.OpoOpoForm, source, time);\r\n\t\t\t\tsource.applyAura(source.model.auras.GreasedLigthning, source, time);\r\n\t\t\t\ttarget.applyAura(source.model.auras.DemolishDOT, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tDemolishRear: Skill({\r\n\t\t\tname: \"DemolishRear\",\r\n\t\t\tpotency: 70,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.OpoOpoForm, source, time);\r\n\t\t\t\tsource.applyAura(source.model.auras.GreasedLigthning, source, time);\r\n\t\t\t\ttarget.applyAura(source.model.auras.DemolishDOT, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tTouchOfDeath: Skill({\r\n\t\t\tname: \"TouchOfDeath\",\r\n\t\t\tpotency: 20,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\ttarget.applyAura(source.model.auras.TouchOfDeathDOT, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tFracture: Skill({\r\n\t\t\tname: \"Fracture\",\r\n\t\t\tpotency: 100,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\ttarget.applyAura(source.model.auras.FractureDOT, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\t/*\r\n\t\t\t--- Buffs ---\r\n\t\t*/\r\n\r\n\t\tInternalRelease: Skill({\r\n\t\t\tname: \"InternalRelease\",\r\n\t\t\trecast: 60,\r\n\t\t\tisOffGCD: true,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.InternalRelease, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tFistOfFire: Skill({\r\n\t\t\tname: \"FistOfFire\",\r\n\t\t\trecast: 3,\r\n\t\t\tisOffGCD: true,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.FistOfFire, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tPerfectBalance: Skill({\r\n\t\t\tname: \"PerfectBalance\",\r\n\t\t\trecast: 180,\r\n\t\t\tisOffGCD: true,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.PerfectBalance, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tBloodForBlood: Skill({\r\n\t\t\tname: \"BloodForBlood\",\r\n\t\t\trecast: 80,\r\n\t\t\tisOffGCD: true,\r\n\t\t\tonUse: function(time, source, target) {\r\n\t\t\t\tsource.applyAura(source.model.auras.BloodForBlood, source, time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\t/*\r\n\t\t\t--- OffGCD ---\r\n\t\t*/\r\n\r\n\t\tSteelPeak: Skill({\r\n\t\t\tname: \"SteelPeak\",\r\n\t\t\tpotency: 150,\r\n\t\t\trecast: 40,\r\n\t\t\tisOffGCD: true,\r\n\t\t}),\r\n\r\n\t\tHowlingFist: Skill({\r\n\t\t\tname: \"HowlingFist\",\r\n\t\t\tpotency: 170,\r\n\t\t\trecast: 60,\r\n\t\t\tisOffGCD: true,\r\n\t\t}),\r\n\r\n\t},\r\n\r\n\tauras: {\r\n\r\n\t\t/*\r\n\t\t\t--- Buffs ---\r\n\t\t*/\r\n\r\n\t\tFistOfFire: Aura({\r\n\t\t\tname: \"FistOfFire\",\r\n\t\t\tduration: Infinity,\r\n\t\t\tincreaseDamage: 1.1,\r\n\t\t}),\r\n\r\n\t\tRaptorForm: Aura({\r\n\t\t\tname: \"RaptorForm\",\r\n\t\t\tduration: 10,\r\n\t\t\tonApply: function(source, time) {\r\n\t\t\t\tif(source.findAura(\"PerfectBalance\", source)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tsource.removeAura(source.findAura(\"CoeurlForm\", source), time);\r\n\t\t\t\tsource.removeAura(source.findAura(\"OpoOpoForm\", source), time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tCoeurlForm: Aura({\r\n\t\t\tname: \"CoeurlForm\",\r\n\t\t\tduration: 10,\r\n\t\t\tonApply: function(source, time) {\r\n\t\t\t\tif(source.findAura(\"PerfectBalance\", source)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tsource.removeAura(source.findAura(\"RaptorForm\", source), time);\r\n\t\t\t\tsource.removeAura(source.findAura(\"OpoOpoForm\", source), time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tOpoOpoForm: Aura({\r\n\t\t\tname: \"OpoOpoForm\",\r\n\t\t\tduration: 10,\r\n\t\t\tonApply: function(source, time) {\r\n\t\t\t\tif(source.findAura(\"PerfectBalance\", source)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tsource.removeAura(source.findAura(\"RaptorForm\", source), time);\r\n\t\t\t\tsource.removeAura(source.findAura(\"CoeurlForm\", source), time);\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tGreasedLigthning: Aura({\r\n\t\t\tname: \"GreasedLigthning\", \r\n\t\t\tduration: 12, \r\n\t\t\tmaximumCount: 3,\r\n\t\t}, {\r\n\t\t\tincreaseDamage: {\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\treturn this.count * 0.09 + 1;\r\n\t\t\t\t}, \r\n\t\t\t}, \r\n\t\t\tincreasedAutoAttackSpeed: {\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\treturn this.count * 0.05;\r\n\t\t\t\t}, \r\n\t\t\t}, \r\n\t\t\treducedGlobalCooldown: {\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\treturn this.count * 0.05;\r\n\t\t\t\t}, \r\n\t\t\t}, \r\n\t\t}),\r\n\r\n\t\tTwinSnakes: Aura({\r\n\t\t\tname: \"TwinSnakes\",\r\n\t\t\tduration: 15,\r\n\t\t\tincreaseDamage: 1.1,\r\n\t\t}),\r\n\r\n\t\tInternalRelease: Aura({\r\n\t\t\tname: \"InternalRelease\",\r\n\t\t\tduration: 15,\r\n\t\t\tadditionalCriticalHitChance: 0.3,\r\n\t\t}),\r\n\r\n\t\tPerfectBalance: Aura({\r\n\t\t\tname: \"PerfectBalance\",\r\n\t\t\tduration: 10,\r\n\t\t\tonApply: function(source) {\r\n\t\t\t\tsource.removeAura(source.findAura(\"RaptorForm\", source));\r\n\t\t\t\tsource.removeAura(source.findAura(\"CoeurlForm\", source));\r\n\t\t\t\tsource.removeAura(source.findAura(\"OpoOpoForm\", source));\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\tBloodForBlood: Aura({\r\n\t\t\tname: \"BloodForBlood\",\r\n\t\t\tduration: 20,\r\n\t\t\tincreaseDamage: 1.1,\r\n\t\t}),\r\n\r\n\t\tPartyBonus: Aura({\r\n\t\t\tname: \"PartyBonus\",\r\n\t\t\tduration: Infinity,\r\n\t\t\tstatsMultiplier: {\r\n\t\t\t\tstrength: 1.03\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\t/*\r\n\t\t\t--- DOTs ---\r\n\t\t*/\r\n\r\n\t\tDemolishDOT: Aura({\r\n\t\t\tname: \"DemolishDOT\",\r\n\t\t\tduration: 18,\r\n\t\t\tpotency: 40,\r\n\t\t}),\r\n\r\n\t\tTouchOfDeathDOT: Aura({\r\n\t\t\tname: \"TouchOfDeathDOT\",\r\n\t\t\tduration: 30,\r\n\t\t\tpotency: 25,\r\n\t\t}),\r\n\r\n\t\tFractureDOT: Aura({\r\n\t\t\tname: \"FractureDOT\",\r\n\t\t\tduration: 18,\r\n\t\t\tpotency: 20,\r\n\t\t}),\r\n\r\n\t\t/*\r\n\t\t\t--- Debuffs ---\r\n\t\t*/\r\n\r\n\t\tDragonKick: Aura({\r\n\t\t\tname: \"DragonKick\",\r\n\t\t\tduration: 15,\r\n\t\t\ttransformIncomingDamage: 1/0.9,\r\n\t\t}),\r\n\t}\r\n});",
    "var extend = require(\"util\")._extend,\r\n\tinherits = require(\"util\").inherits,\r\n\tEventEmitter = require(\"events\").EventEmitter,\r\n\tStats = require('./Stats'),\r\n\tRotation = require('./Rotation'),\r\n\tmodels = {\r\n\t\tMonk: require(\"../Models/Monk\"),\r\n\t\tDragoon: require(\"../Models/Dragoon\"),\r\n\t};\r\n\r\nexports = module.exports = Actor;\r\n\r\nfunction Actor(conf) {\r\n\tEventEmitter.call(this);\r\n\r\n\tthis.activeAuras = [];\r\n\tthis.pendingAuras = [];\r\n\tthis.combo = {\r\n\t\tname: \"\",\r\n\t\ttime: null,\r\n\t};\r\n\r\n\tthis.stats = new Stats(conf.stats);\r\n\tthis.rotation = new Rotation(conf.rotation || \"\");\r\n\tthis.modelName = conf.model;\r\n\tthis.name = conf.name;\r\n\tthis.inactive = !!conf.inactive;\r\n\r\n\tthis.rotation.on(\"error\", this.emit.bind(this, \"error\"));\r\n}\r\n\r\ninherits(Actor, EventEmitter);\r\n\r\nextend(Actor.prototype, {\r\n\r\n\tname: \"Actor\",\r\n\r\n\tnextAction:Infinity,\r\n\tnextOffGCD:Infinity,\r\n\tnextAutoAttack:Infinity,\r\n\r\n\tinactive: false,\r\n\r\n\tevents: {\r\n\t\tautoattack: \"autoattack\",\t// (damage, critical, time)\r\n\t\tskill: \"skill\",\t\t\t\t// (damage, critical, skill, time)\r\n\t\tauraApply: \"auraApply\",\t\t// (aura, time)\r\n\t\tauraTick: \"auraTick\",\t\t// (damage, critical, aura, time)\r\n\t\tauraRefresh: \"auraRefresh\",\t// (aura, time)\r\n\t\tauraExpire: \"auraExpire\",\t// (aura, isExpired, time)\r\n\t},\r\n\r\n\tactiveAuras: null,\r\n\tpendingAuras: null,\r\n\tstats: null,\r\n\tmodel: null,\r\n\tmodelName: null,\r\n\trotation: null,\r\n\tcombo: null,\r\n\r\n\tnextTimeOfInterest: function(time) {\r\n\t\tvar next = this.pendingAuras.reduce(function(previousValue, currentValue) {\r\n\t\t\treturn Math.min(previousValue, currentValue.time);\r\n\t\t}, Infinity);\r\n\r\n\t\treturn Math.min(this.nextAction, this.nextAutoAttack, this.nextOffGCD, next) - time;\r\n\t},\r\n\r\n\taction: function(time, target) {\r\n\r\n\t\tvar stats = this.getStats(),\r\n\t\t\tGCD, skillName;\r\n\r\n\t\tswitch(time) {\r\n\t\t\tcase this.nextAutoAttack:\r\n\t\t\t\tthis.emit(this.events.autoattack,\r\n\t\t\t\t\tstats.getAutoAttackDamage()*target.getStats().transformIncomingDamage,\r\n\t\t\t\t\tstats.getCriticalRate(),\r\n\t\t\t\t\ttime\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.nextAutoAttack = stats.getAutoAttackDelay() + time;\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.nextAction:\r\n\t\t\tcase this.nextOffGCD:\r\n\t\t\t\tskillName = this.rotation.run(this, target, time);\r\n\r\n\t\t\t\tif(skillName && (skill = this.model.skills[skillName])) {\r\n\t\t\t\t\tGCD = stats.getGCD();\r\n\r\n\t\t\t\t\tif(skill.isOffGCD) {\r\n\t\t\t\t\t\tif(this.nextAction === time) {\r\n\t\t\t\t\t\t\tthis.nextAction = time + GCD / 2;\r\n\t\t\t\t\t\t\tthis.nextOffGCD = time + GCD;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// this.nextAction = time + GCD / 2;\r\n\t\t\t\t\t\t\tthis.nextOffGCD = time + GCD;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif(this.nextAction === time) {\r\n\t\t\t\t\t\t\tthis.nextAction = time + GCD;\r\n\t\t\t\t\t\t\tthis.nextOffGCD = time + GCD / 2;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// this.nextAction = time + GCD / 2;\r\n\t\t\t\t\t\t\tthis.nextOffGCD = time + GCD;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.setCombo(skill.name, time);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstats = stats.buff(skill.stats);\r\n\t\t\t\t\tthis.emit(this.events.skill,\r\n\t\t\t\t  \t\tstats.getSkillDamage(skill.getPotency(this, target, time))*target.getStats().transformIncomingDamage,\r\n\t\t\t\t  \t\tstats.getSkillCriticalRate(),\r\n\t\t\t\t  \t\tskill,\r\n\t\t\t\t  \t\ttime\r\n\t\t\t\t  \t);\r\n\t\t\t\t\tskill._onUse(Math.min(this.nextAction, this.nextOffGCD), this, target);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.emit(\"error\", new Error(skillName + \" is not a valid skill\"));\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.emit(\"error\", new Error(\"unoptimized action call \\n\"\r\n\t\t\t\t\t\t\t\t\t\t\t+ \"name: \" + this.name + \"\\n\"\r\n\t\t\t\t\t\t\t\t\t\t\t+ \"time: \" + time));\r\n\t\t}\r\n\t},\r\n\r\n\tpreTick: function(time) {\r\n\r\n\t\tthis.pendingAuras.slice().forEach(function(pendingAura) {\r\n\t\t\tif(pendingAura.time === time) {\r\n\t\t\t\tthis.applyAuraImmediate(pendingAura.aura, pendingAura.owner, pendingAura.time, pendingAura.stats);\r\n\t\t\t\tthis.pendingAuras.splice(this.pendingAuras.indexOf(pendingAura), 1);\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\tthis.activeAuras.slice().forEach(function(aura) {\r\n\t\t\tif(aura.expireTime < time) {\r\n\t\t\t\tthis.removeAura(aura, time, true);\r\n\t\t\t}\r\n\t\t}, this);\r\n\t},\r\n\r\n\ttick: function(time) {\r\n\t\tthis.activeAuras.forEach(function(aura) {\r\n\t\t\tif(aura.tickDamage){\r\n\t\t\t\tthis.emit(this.events.auraTick,\r\n\t\t\t  \t\taura.tickDamage,\r\n\t\t\t  \t\taura.tickCriticalRate,\r\n\t\t\t  \t\taura,\r\n\t\t\t  \t\ttime\r\n\t\t\t  \t);\r\n\t\t\t}\r\n\t\t}, this);\r\n\t},\r\n\r\n\tprepareForBattle: function(time) {\r\n\t\tif(!(this.modelName in models))\r\n\t\t\tthis.emit(\"error\", new Error(\"invalid model : \" + this.modelName));\r\n\r\n\t\tthis.model = new (models[this.modelName]);\r\n\t\tthis.rotation.prepare();\r\n\r\n\t\tif(this.inactive) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tthis.model.prepareForBattle(time, this);\r\n\t\tthis.nextAction = this.nextAutoAttack = time;\r\n\t\tthis.nextOffGCD = time + this.getStats().getGCD() / 2;\r\n\r\n\t\treturn this;\r\n\t\t\r\n\t},\r\n\r\n\tsetCombo: function(combo, time) {\r\n\t\tthis.combo = {\r\n\t\t\tname: combo,\r\n\t\t\ttime: time, \r\n\t\t};\r\n\t},\r\n\r\n\thasCombo: function(combo, time) {\r\n\t\treturn (this.combo.name === combo) && (time - this.combo.time <= 10);\r\n\t},\r\n\r\n\tapplyAura: function(aura, source, time) {\r\n\t\tthis.pendingAuras.push({\r\n\t\t\taura: aura,\r\n\t\t\tstats: source.getStats(),\r\n\t\t\ttime: time,\r\n\t\t\towner: source,\r\n\t\t});\r\n\t},\r\n\r\n\tapplyAuraImmediate: function(aura, source, time, stats) {\r\n\t\tvar _aura = this.findAura(aura.prototype.name, source);\r\n\r\n\t\tconf = {\r\n\t\t\tstats: stats || source.getStats(),\r\n\t\t\ttime: time,\r\n\t\t\towner: source,\r\n\t\t};\r\n\r\n\t\tconf.stats.skillCriticalHitChance = 0; // DoTs don't benefit this\r\n\r\n\t\tif(_aura && _aura.onApply(source, time) !== false) {\r\n\t\t\t_aura.refresh(conf);\r\n\t\t\tthis.emit(this.events.auraRefresh, _aura, time);\r\n\t\t} else {\r\n\t\t\t_aura = new aura(conf);\r\n\t\t\tif(_aura.onApply(source, time) !== false) {\r\n\t\t\t\tthis.activeAuras.push(_aura);\r\n\t\t\t\tthis.emit(this.events.auraApply, _aura, time);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tfindAura: function(auraName, source) {\r\n\t\tvar i, l, _aura;\r\n\t\tfor(i = 0, l = this.activeAuras.length; i < l; i++) {\r\n\t\t\t_aura = this.activeAuras[i];\r\n\t\t\tif(_aura.name === auraName && _aura.owner === source) {\r\n\t\t\t\treturn _aura;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tremoveAura: function(aura, time, isExpired) {\r\n\t\tvar pos = this.activeAuras.indexOf(aura);\r\n\t\tif(~pos) {\r\n\t\t\tthis.activeAuras.splice(pos, 1);\r\n\t\t\tthis.emit(this.events.auraExpire, aura, isExpired, time);\r\n\t\t}\r\n\t},\r\n\r\n\tgetStats: function() {\r\n\t\treturn this.activeAuras.reduce(function(stats, aura) {\r\n\t\t\treturn stats.buff(extend(extend({}, aura.statsMultiplier), {\r\n\t\t\t\tcriticalHitChance: aura.additionalCriticalHitChance,\r\n\t\t\t\tskillCriticalHitChance: aura.additionalSkillCriticalHitChance,\r\n\t\t\t\tincreaseDamage: aura.increaseDamage,\r\n\t\t\t\tincreasedAutoAttackSpeed: aura.increasedAutoAttackSpeed,\r\n\t\t\t\treducedGlobalCooldown: aura.reducedGlobalCooldown,\r\n\t\t\t\ttransformIncomingDamage: aura.transformIncomingDamage,\r\n\t\t\t}));\r\n\t\t}, this.stats);\r\n\t},\r\n\r\n\tfree: function() {\r\n\t\tthis.rotation.free();\r\n\t},\r\n});",
    "var extend = require(\"util\")._extend,\r\n\tinherits = require(\"util\").inherits;\r\n\r\nexports = module.exports = Aura;\r\nexports.createAura = createAura;\r\n\r\nfunction Aura(conf) {\r\n\tthis.refresh(conf);\r\n}\r\n\r\nextend(Aura.prototype, {\r\n\tname: \"name\", \r\n\tduration: 0,\r\n\texpireTime: 0, \r\n\towner: null, \r\n\tcount: 0,\r\n\tmaximumCount: 1,\r\n\tpotency: 0,\r\n\ttickDamage: 0,\r\n\ttickCriticalRate: 0,\r\n\r\n\tincreaseDamage: 1,\r\n\tincreasedAutoAttackSpeed: 0,\r\n\treducedGlobalCooldown: 0,\r\n\tadditionalCriticalHitChance: 0,\r\n\tadditionalSkillCriticalHitChance: 0,\r\n\ttransformIncomingDamage: 1,\r\n\r\n\tstatsMultiplier: {\r\n\t},\r\n\r\n\trefresh: function(conf) {\r\n\t\tconf = conf || {};\r\n\t\tif(this.potency) {\r\n\t\t\tthis.tickDamage = conf.stats.getSkillDamage(this.potency);\r\n\t\t\tthis.tickCriticalRate = conf.stats.getCriticalRate();\r\n\t\t}\r\n\r\n\t\tthis.expireTime = (conf.time || 0) + this.duration;\r\n\t\tthis.owner = conf.owner;\r\n\t\tthis.count = Math.min(this.count + 1, this.maximumCount);\r\n\t},\r\n\r\n\tonApply: function(source, time) {\r\n\r\n\t},\r\n});\r\n\r\nfunction createAura(properties, specialProperties) {\r\n\tfunction F(){ Aura.apply(this, arguments) };\r\n\tinherits(F, Aura);\r\n\textend(F.prototype, properties);\r\n\tObject.defineProperties(F.prototype, specialProperties || {});\r\n\treturn F;\r\n}\r\n\r\n// partyBonus = createAura({\r\n// \tname: \"Party Bonus\",\r\n// \tduration: Number.MAX_VALUE,\r\n// \tstatsMultiplier: {\r\n// \t\tstrength: 1.03\r\n// \t}\r\n// });\r\n\r\n// greasedLigthning = createAura({\r\n// \tname: \"Greased Ligthning\", \r\n// \tduration: 12, \r\n// \tmaximumCount: 3,\r\n// }, {\r\n// \tincreaseDamage: {\r\n// \t\tget: function() {\r\n// \t\t\treturn this.count * 0.09 + 1;\r\n// \t\t}, \r\n// \t}, \r\n// \tincreasedAutoAttackSpeed: {\r\n// \t\tget: function() {\r\n// \t\t\treturn this.count * 0.05;\r\n// \t\t}, \r\n// \t}, \r\n// \treducedGlobalCooldown: {\r\n// \t\tget: function() {\r\n// \t\t\treturn this.count * 0.05;\r\n// \t\t}, \r\n// \t}, \r\n// });",
    "var inherits = require(\"util\").inherits,\r\n\textend = require(\"util\")._extend,\r\n\tformat = require(\"util\").format;\r\n\r\nexports.RotationError = RotationError;\r\n\r\nfunction RotationError(error, args, source) {\r\n\tthis.error = error;\r\n\tthis.arguments = args;\r\n\tthis.source = source;\r\n\t\r\n\tcaptureStackTrace(this);\r\n}\r\n\r\ninherits(RotationError, Error);\r\n\r\nextend(RotationError.prototype, {\r\n\tname: \"RotationError\",\r\n\targuments: null,\r\n\tsource: null,\r\n\terror: null,\r\n\r\n\tgetSourceErrorPosition: function() {\r\n\t\tvar m = this.error.stack.match(/:(\\d+):(\\d+)/);\r\n\r\n\t\treturn {\r\n\t\t\tline: parseInt(m[1]) - 1,\r\n\t\t\tcol: parseInt(m[2])\r\n\t\t};\r\n\t},\r\n});\r\n\r\nfunction captureStackTrace(rotationError) {\r\n\tObject.defineProperties(rotationError, {\r\n\t\t\"stack\": {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\tvar pos = this.getSourceErrorPosition(),\r\n\t\t\t\t\tsource = this.source.split(/\\r?\\n/),\r\n\t\t\t\t\tbegin = Math.max(pos.line - 1 - 1, 0),\r\n\t\t\t\t\tend = Math.min(pos.line + 1 - 1, source.length - 1),\r\n\t\t\t\t\tstack = \"\",\r\n\t\t\t\t\ti, isFaultyLine;\r\n\r\n\t\t\t\tstack += format(\"\\n[%s] at line %d, col %d\\n\\n\", this.toString(), pos.line, pos.col);\r\n\t\t\t\tfor(; begin <= end; begin++) {\r\n\t\t\t\t\tisFaultyLine = (begin === pos.line - 1);\r\n\t\t\t\t\tstack += format(\"%s%s\\n\", (begin + 1 + \"   \").slice(0,3), source[begin].replace(/\\t/g, \" \"));\r\n\t\t\t\t\tisFaultyLine && (stack += format(\"---%s^\\n\", Array(pos.col).join(\"-\")));\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn stack;\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n}",
    "var inherits = require(\"util\").inherits,\r\n\textend = require(\"util\")._extend,\r\n\tformat = require(\"util\").format;\r\n\r\nexports.RotationSyntaxError = RotationSyntaxError;\r\n\r\nfunction RotationSyntaxError(error, args, source) {\r\n\tthis.message = error.message;\r\n\tthis.error = error;\r\n\tthis.arguments = args;\r\n\tthis.source = source;\r\n\r\n\tcaptureStackTrace(this);\r\n}\r\n\r\ninherits(RotationSyntaxError, Error);\r\n\r\nextend(RotationSyntaxError.prototype, {\r\n\tname: \"RotationSyntaxError\",\r\n\targuments: null,\r\n\tsource: null,\r\n\terror: null,\r\n});\r\n\r\nfunction captureStackTrace(rotationSyntaxError) {\r\n\tObject.defineProperties(rotationSyntaxError, {\r\n\t\t\"stack\": {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\tvar source = this.source.split(/\\r?\\n/),\r\n\t\t\t\t\ttoken = this.error.arguments[0],\r\n\t\t\t\t\tstack = \"\",\r\n\t\t\t\t\tindex = 0, length = source.length,\r\n\t\t\t\t\tline, col,\r\n\t\t\t\t\tbegin, end, isFaultyLine;\r\n\r\n\t\t\t\tstack += format(\"\\n %s\\n\\n\", this.toString());\r\n\t\t\t\tstack += \"Possible error locations:\\n\\n\";\r\n\r\n\t\t\t\tfor(; index < length; index++) {\r\n\t\t\t\t\tline = source[index];\r\n\t\t\t\t\tif(~(col = line.indexOf(token))) {\r\n\t\t\t\t\t\tbegin = Math.max(index - 1, 0);\r\n\t\t\t\t\t\tend = Math.min(index + 1, source.length - 1);\r\n\r\n\t\t\t\t\t\tstack += format(\"@%d:%d\\n\", index + 1, col + 1);\r\n\t\t\t\t\t\tfor(; begin <= end; begin++) {\r\n\t\t\t\t\t\t\tisFaultyLine = (begin === index);\r\n\t\t\t\t\t\t\tstack += format(\"%s%s\\n\", (begin + 1 + \"   \").slice(0,3), source[begin].replace(/\\t/g, \" \"));\r\n\t\t\t\t\t\t\tisFaultyLine && (stack += format(\"   %s^\\n\", Array(col + 1).join(\" \")));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstack += \"\\n\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn stack;\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n}",
    "var RotationError = require(\"./Errors/RotationError\").RotationError,\r\n\tRotationSyntaxError = require(\"./Errors/RotationSyntaxError\").RotationSyntaxError,\r\n\tScript = require(\"./Script\"),\r\n\tEventEmitter = require(\"events\").EventEmitter,\r\n\tinherits = require(\"util\").inherits,\r\n\textend = require(\"util\")._extend;\r\n\r\nexports = module.exports = Rotation;\r\n\r\nfunction Rotation(code) {\r\n\tEventEmitter.call(this);\r\n\tthis.source = code;\r\n}\r\n\r\ninherits(Rotation, EventEmitter);\r\n\r\nextend(Rotation.prototype, {\r\n\r\n\tsource: null,\r\n\tscript: null,\r\n\tcontext: null,\r\n\r\n\tprepare: function() {\r\n\t\tvar code =  \"(function () {\\n\" +\r\n\t\t\t\t\tthis.source +\r\n\t\t\t\t\t\"}());\";\r\n\t\ttry {\r\n\t\t\tthis.script = new Script(code);\r\n\t\t} catch(e) {\r\n\t\t\tthis.emit(\"error\", new RotationSyntaxError(e, arguments, this.source));\r\n\t\t}\r\n\t\tthis.context = Script.createContext({\r\n\t\t\tconsole: console, // used for debug\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\r\n\trun: function(actor, target, time) {\r\n\t\tvar context = extend(this.context, {\r\n\t\t\t\tself: actor,\r\n\t\t\t\ttarget: target,\r\n\r\n\t\t\t\tAuraCount: this.AuraCount,\r\n\t\t\t\tIsReady: this.IsReady.bind(this, time, actor),\r\n\t\t\t\tIsOffGCD: this.IsOffGCD.bind(this, time, actor),\r\n\t\t\t\tAuraTimeRemaining: this.AuraTimeRemaining.bind(this, time),\r\n\t\t\t\tGCD: this.GCD.bind(this, actor),\r\n\t\t\t\tCooldownRemaining: this.CooldownRemaining.bind(this, time, actor),\r\n\t\t\t}),\r\n\t\t\tskillName;\r\n\r\n\t\ttry {\r\n\t\t\tskillName = this.script.runInContext(context);\r\n\t\t} catch(e) {\r\n\t\t\tthis.emit(\"error\", new RotationError(e, arguments, this.source));\r\n\t\t}\r\n\r\n\t\treturn skillName;\r\n\t},\r\n\r\n\tfree: function() {\r\n\t\tthis.script.free();\r\n\t},\r\n\r\n\tAuraCount: function(actor, auraName, source) {\r\n\t\tvar aura;\r\n\t\tif(aura = actor.findAura(auraName, source)) {\r\n\t\t\treturn aura.count;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t},\r\n\r\n\tIsReady: function(time, actor, skillName) {\r\n\t\treturn actor.model.skills[skillName].isAvailable(time, actor);\r\n\t},\r\n\r\n\tIsOffGCD: function(time, actor) {\r\n\t\treturn actor.nextOffGCD === time;\r\n\t},\r\n\r\n\tAuraTimeRemaining: function(time, actor, auraName, source) {\r\n\t\tvar aura;\r\n\t\tif(aura = actor.findAura(auraName, source)) {\r\n\t\t\treturn aura.expireTime - time;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t},\r\n\r\n\tGCD: function(actor) {\r\n\t\treturn actor.getStats().getGCD();\r\n\t},\r\n\r\n\tCooldownRemaining: function(time, actor, skillName) {\r\n\t\treturn actor.model.skills[skillName].cooldownRemaining(time);\r\n\t}\r\n\r\n});",
    "var extend = require(\"util\")._extend;\r\n\r\nexports = module.exports = Scheduled;\r\n\r\nfunction Scheduled(conf) {\r\n\tconf = conf || {};\r\n\tthis.maxTime = conf.maxTime || 0;\r\n\tthis.time = conf.time || 0;\r\n\tthis.listeners = {};\r\n}\r\n\r\nextend(Scheduled.prototype, {\r\n\ttime: 0,\r\n\tmaxTime: 0,\r\n\tlisteners: null,\r\n\r\n\tnext: function() {\r\n\t\tif(this.isEmpty()) return false;\r\n\t\tif(this.isExpired(this.time)) return false;\r\n\r\n\t\tvar next, name, _next, _name;\r\n\t\tfor(_name in this.listeners) {\r\n\t\t\t_next = this.listeners[_name];\r\n\t\t\tif(!next || _next.time < next.time) {\r\n\t\t\t\tnext = _next;\r\n\t\t\t\tname = _name;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdelete this.listeners[name];\r\n\r\n\t\tthis.time = next.time;\r\n\t\tif(this.isExpired(this.time)) return false;\r\n\t\treturn next.fun;\r\n\t},\r\n\r\n\tregister: function(name, fun, time, thisp) {\r\n\t\tvar listener;\r\n\r\n\t\tif(listener = this.listeners[name]) {\r\n\t\t\tif(listener.time <= (this.time + time)) return;\r\n\t\t}\r\n\r\n\t\tthis.listeners[name] = {\r\n\t\t\tfun: thisp ? fun.bind(thisp) : fun,\r\n\t\t\ttime: this.time + time\r\n\t\t};\r\n\t},\r\n\r\n\tisEmpty: function() {\r\n\t\tfor(var i in this.listeners) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\tisExpired: function(time) {\r\n\t\treturn time > this.maxTime;\r\n\t},\r\n});",
    "(function (process,global){\nvar extend = require(\"util\")._extend,\r\n\tinherits = require(\"util\").inherits,\r\n\tEventEmitter = require(\"events\").EventEmitter,\r\n\tScheduled = require(\"./Scheduled2\"),\r\n\tActor = require(\"./Actor\"),\r\n\tsetImmediate = global.setImmediate || process.nextTick;\r\n\r\nexports = module.exports = Simulation;\r\n\r\nfunction Simulation() {\r\n\tEventEmitter.call(this);\r\n\r\n\tthis.scheduled = new Scheduled();\r\n\tthis.target = new Actor({\r\n\t\tmodel: \"Monk\",\r\n\t\tname: \"Target\",\r\n\t\tinactive: true,\r\n\t});\r\n\tthis.actors = [this.target];\r\n}\r\n\r\ninherits(Simulation, EventEmitter);\r\n\r\nextend(Simulation.prototype, {\r\n\r\n\tscheduled: null,\r\n\tactors: null,\r\n\ttarget: null,\r\n\tstopped: false,\r\n\r\n\trun: function() {\r\n\t\tvar scheduled = this.scheduled,\r\n\t\t\tactors = this.actors,\r\n\t\t\ttarget = this.target,\r\n\t\t\tnext;\r\n\r\n\t\tthis.emit(\"start\", actors);\r\n\r\n\t\tscheduled.register(\"tick\", this.tick, 3, this);\r\n\t\tscheduled.register(\"checkActors\", this.checkActors, 0, this);\r\n\r\n\t\tactors.forEach(function(actor) {\r\n\t\t\tactor.prepareForBattle(scheduled.time);\r\n\t\t}, this);\r\n\r\n\t\tsetImmediate(this.loop.bind(this));\r\n\t},\r\n\r\n\tloop: function() {\r\n\t\tif(this.stopped) return;\r\n\t\tif(next = this.scheduled.next()) {\r\n\t\t\tnext();\r\n\t\t\tthis.actors.forEach(function(actor) {\r\n\t\t\t\tthis.scheduled.register(\"checkActors\", this.checkActors, actor.nextTimeOfInterest(this.scheduled.time), this);\r\n\t\t\t}, this);\r\n\t\t\tsetImmediate(this.loop.bind(this));\r\n\t\t\tthis.emit(\"progress\", this.scheduled.time, this.scheduled.maxTime);\r\n\t\t} else {\r\n\t\t\tsetImmediate(this.end.bind(this));\r\n\t\t}\r\n\t},\r\n\r\n\tend: function() {\r\n\t\tthis.free();\r\n\t\tthis.emit(\"end\", Math.min(this.scheduled.maxTime, this.scheduled.time));\r\n\t},\r\n\r\n\tcancel: function() {\r\n\t\tthis.free();\r\n\t\tthis.stopped = true;\r\n\t},\r\n\r\n\tfree: function() {\r\n\t\tthis.actors.forEach(function(actor) {\r\n\t\t\tactor.free();\r\n\t\t});\r\n\t},\r\n\r\n\ttick: function() {\r\n\t\tthis.actors.forEach(function(actor) {\r\n\t\t\tactor.preTick(this.scheduled.time);\r\n\t\t}, this);\r\n\t\tthis.actors.forEach(function(actor) {\r\n\t\t\tactor.tick(this.scheduled.time);\r\n\t\t}, this);\r\n\t\tthis.scheduled.register(\"tick\", this.tick, 3, this);\r\n\t},\r\n\r\n\tcheckActors: function() {\r\n\t\tthis.actors.forEach(function(actor) {\r\n\t\t\tactor.preTick(this.scheduled.time);\r\n\t\t}, this);\r\n\t\t\r\n\t\tthis.actors.forEach(function(actor) {\r\n\t\t\tif(this.stopped) return;\r\n\t\t\tif(actor.nextTimeOfInterest(this.scheduled.time) <= 0) {\r\n\t\t\t\tactor.action(this.scheduled.time, this.target);\r\n\t\t\t}\r\n\t\t}, this);\r\n\t},\r\n\r\n})\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "var extend = require(\"util\")._extend,\r\n\tinherits = require(\"util\").inherits;\r\n\r\nexports = module.exports = Skill;\r\nexports.createSkill = createSkill;\r\nexports.createCombo = createCombo;\r\n\r\nfunction Skill() {\r\n\r\n}\r\n\r\nextend(Skill.prototype, {\r\n\r\n\tname: \"Skill\", \r\n\r\n\tpotency: 0,\r\n\trecast: 0,\r\n\tisOffGCD: false,\r\n\tnextAvailable: 0,\r\n\tcombo: \"\",\r\n\r\n\tstats: {},\r\n\r\n\tgetPotency: function(source, target, time) {\r\n\t\treturn this.potency;\r\n\t},\r\n\r\n\t_onUse: function(time, source, target) {\r\n\t\tthis.onUse(time, source, target);\r\n\t\tif(this.isOffGCD) {\r\n\t\t\tthis.nextAvailable = time + this.recast;\r\n\t\t}\r\n\t},\r\n\r\n\tonUse: function(time, source, target) {\r\n\r\n\t},\r\n\r\n\tisAvailable: function(time, source) {\r\n\t\treturn this.nextAvailable <= time;\r\n\t},\r\n\r\n\tcooldownRemaining: function(time) {\r\n\t\treturn Math.max(this.nextAvailable - time, 0);\r\n\t},\r\n\r\n});\r\n\r\nfunction createSkill(properties, specialProperties) {\r\n\tfunction F(){ Skill.apply(this, arguments) };\r\n\tinherits(F, Skill);\r\n\textend(F.prototype, properties);\r\n\tObject.defineProperties(F.prototype, specialProperties || {});\r\n\treturn F;\r\n}\r\n\r\nfunction createCombo(skill, properties, specialProperties) {\r\n\tproperties.combo = skill;\r\n\r\n\tproperties.isAvailable = function(time, source) {\r\n\t\treturn source.hasCombo(this.combo, time);\r\n\t};\r\n\r\n\treturn createSkill(properties, specialProperties);\r\n}\r\n\r\n// Bootshine = createSkill({\r\n// \tname: \"Bootshine\",\r\n// \tpotency: 150,\r\n// });\r\n\r\n// BootshineRear = createSkill({\r\n// \tname: \"BootshineRear\",\r\n// \tpotency: 150,\r\n// \tstats: {\r\n// \t\tcriticalHitChance:1\r\n// \t}\r\n// })",
    "var extend = require(\"util\")._extend,\r\n\tbaseStatsMultiplier = {\r\n\t\tweaponDamage: 1,\r\n\t\tweaponAutoAttack: 1,\r\n\t\tweaponAutoAttackDelay: 1,\r\n\t\tstrength: 1,\r\n\t\tcritical: 1,\r\n\t\tdetermination: 1,\r\n\t\tskillSpeed: 1,\r\n\t\tincreaseDamage: 1,\r\n\t\ttransformIncomingDamage: 1,\r\n\t},\r\n\tbaseStatsIncrease = {\r\n\t\tcriticalHitChance: 0,\r\n\t\tskillCriticalHitChance: 0,\r\n\t\tincreasedAutoAttackSpeed: 0,\r\n\t\treducedGlobalCooldown: 0,\r\n\t};\r\n\r\nexports = module.exports = Stats;\r\n\r\nfunction Stats (stats) {\r\n\tfor (var stat in stats) {\r\n\t\tif(stat in baseStatsMultiplier ||\r\n\t\t   stat in baseStatsIncrease)\r\n\t\t\tthis[stat] = stats[stat];\r\n\t}\r\n}\r\n\r\nextend(Stats.prototype, baseStatsMultiplier);\r\nextend(Stats.prototype, baseStatsIncrease);\r\nextend(Stats.prototype, {\r\n\t/*\r\n\t\tfPotency: [0.0,inf[\r\n\t*/\r\n\tgetSkillDamage: function (fPotency) {\r\n\t},\r\n\r\n\t/*\r\n\t\t\r\n\t*/\r\n\tgetAutoAttackDamage: function () {\r\n\t},\r\n\r\n\tgetCriticalRate: function() {\r\n\t\treturn Math.max(Math.min((0.0697*this.critical-18.437)/100+this.criticalHitChance, 1), 0);\r\n\t},\r\n\r\n\tgetSkillCriticalRate: function() {\r\n\t\treturn Math.max(Math.min((0.0697*this.critical-18.437)/100+this.criticalHitChance+this.skillCriticalHitChance, 1), 0);\r\n\t},\r\n\r\n\t/*\r\n\t*/\r\n\tgetGCD: function () {\r\n\t\treturn (2.49-((this.skillSpeed-344)*0.01/10.5))*(1-this.reducedGlobalCooldown);\r\n\t},\r\n\r\n\t/*\r\n\t*/\r\n\tgetAutoAttackDelay: function () {\r\n\t\treturn this.weaponAutoAttackDelay*(1-this.increasedAutoAttackSpeed);\r\n\t},\r\n\r\n\tbuff: function (multiplier) {\r\n\t\tvar stats = new Stats(this),\r\n\t\t\tstat;\r\n\r\n\t\tfor (stat in multiplier) {\r\n\t\t\tif(stat in baseStatsMultiplier)\r\n\t\t\t\tstats[stat] *= multiplier[stat];\r\n\t\t\tif(stat in baseStatsIncrease)\r\n\t\t\t\tstats[stat] += multiplier[stat];\r\n\t\t}\r\n\t\treturn stats;\r\n\t},\r\n});\r\n\r\nextend(Stats, {\r\n\tgetBaseStatsMultiplier: function () {\r\n\t\treturn extend(extend({}, baseStatsMultiplier), baseStatsIncrease);\r\n\t},\r\n\r\n\tuseValkkyFormulas: function() {\r\n\t\textend(Stats.prototype, {\r\n\r\n\t\t\tformulas: \"valkky\",\r\n\r\n\t\t\tgetSkillDamage: function (fPotency) {\r\n\t\t\t\t// http://valk.dancing-mad.com/methodology/#FinalFormulas\r\n\t\t\t\treturn (fPotency/100)*(\r\n\t\t\t\t\t((0.0032*this.strength+0.4162)*this.weaponDamage)\r\n\t\t\t\t\t+(0.1*this.strength-0.3529)\r\n\t\t\t\t\t+((this.determination-202)*0.035)\r\n\t\t\t\t)*(1+(0.5*this.getSkillCriticalRate()))*this.increaseDamage;\r\n\t\t\t},\r\n\r\n\t\t\tgetAutoAttackDamage: function () {\r\n\t\t\t\t// http://valk.dancing-mad.com/methodology/#FinalFormulas\r\n\t\t\t\treturn (this.weaponAutoAttack/this.weaponDamage)*(\r\n\t\t\t\t\t((0.0032*this.strength+0.4162)*this.weaponDamage)\r\n\t\t\t\t\t+(0.1*this.strength-0.3529)\r\n\t\t\t\t\t+((this.determination-202)*0.11)\r\n\t\t\t\t)*(1+(0.5*this.getCriticalRate()))*this.increaseDamage;\r\n\t\t\t},\r\n\t\t});\r\n\t\treturn Stats;\r\n\t},\r\n\r\n\tuseCcbrownFormulas: function() {\r\n\t\textend(Stats.prototype, {\r\n\r\n\t\t\tformulas: \"ccbrown\",\r\n\r\n\t\t\tgetSkillDamage: function (fPotency) {\r\n\t\t\t\t// https://github.com/ccbrown/xiv-sim/blob/master/src/models/Monk.cpp\r\n\t\t\t\treturn (fPotency/100) * (\r\n\t\t\t\t\tthis.weaponDamage * (\r\n\t\t\t\t\t\tthis.strength * 0.00389 + this.determination * 0.0008 + 0.01035\r\n\t\t\t\t\t) + (this.strength * 0.08034) + (this.determination * 0.02622)\r\n\t\t\t\t)*(1+(0.5*this.getSkillCriticalRate()))*this.increaseDamage;\r\n\t\t\t},\r\n\r\n\t\t\tgetAutoAttackDamage: function () {\r\n\t\t\t\t// https://github.com/ccbrown/xiv-sim/blob/master/src/models/Monk.cpp\r\n\t\t\t\treturn this.weaponAutoAttackDelay / 3.0 * (\r\n\t\t\t\t\tthis.weaponDamage * (\r\n\t\t\t\t\t\tthis.strength * 0.00408 + this.determination * 0.00208 - 0.30991\r\n\t\t\t\t\t) + (this.strength * 0.07149) + (this.determination * 0.03443)\r\n\t\t\t\t)*(1+(0.5*this.getCriticalRate()))*this.increaseDamage;\r\n\t\t\t},\r\n\t\t});\r\n\t\treturn Stats;\r\n\t},\r\n});\r\n\r\nStats.useValkkyFormulas(); // defaults to Valkky formulas",
    "var vm = require(\"vm\").Script,\r\n\tinherits = require(\"util\").inherits,\r\n\textend = require(\"util\")._extend;\r\n\r\nexports = module.exports = Script;\r\n\r\ninherits(Script, vm);\r\n\r\nfunction Script(code) {\r\n    if (!(this instanceof Script)) return new Script(code);\r\n\tvm.call(this, code);\r\n}\r\n\r\nextend(Script.prototype, {\r\n\r\n\tfree: function() {\r\n\t    this.iframe && document.body.removeChild(this.iframe);\r\n\t    this.code = this.iframe = this.win = this.wEval = null;\r\n\t},\r\n\r\n});\r\n\r\nextend(Script, {\r\n\tcreateContext: vm.createContext,\r\n});",
    "// https://github.com/substack/vm-browserify\r\nvar indexOf = function(arr, obj) {\r\n    return arr.indexOf(obj);\r\n};\r\n\r\nvar Object_keys = function (obj) {\r\n    if (Object.keys) return Object.keys(obj)\r\n    else {\r\n        var res = [];\r\n        for (var key in obj) res.push(key)\r\n        return res;\r\n    }\r\n};\r\n\r\nvar forEach = function (xs, fn) {\r\n    if (xs.forEach) return xs.forEach(fn)\r\n    else for (var i = 0; i < xs.length; i++) {\r\n        fn(xs[i], i, xs);\r\n    }\r\n};\r\n\r\nvar defineProp = (function() {\r\n    try {\r\n        Object.defineProperty({}, '_', {});\r\n        return function(obj, name, value) {\r\n            Object.defineProperty(obj, name, {\r\n                writable: true,\r\n                enumerable: false,\r\n                configurable: true,\r\n                value: value\r\n            })\r\n        };\r\n    } catch(e) {\r\n        return function(obj, name, value) {\r\n            obj[name] = value;\r\n        };\r\n    }\r\n}());\r\n\r\nvar globals = ['Array', 'Boolean', 'Date', 'Error', 'EvalError', 'Function',\r\n'Infinity', 'JSON', 'Math', 'NaN', 'Number', 'Object', 'RangeError',\r\n'ReferenceError', 'RegExp', 'String', 'SyntaxError', 'TypeError', 'URIError',\r\n'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape',\r\n'eval', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined', 'unescape'];\r\n\r\nfunction Context() {}\r\nContext.prototype = {};\r\n\r\nvar Script = exports.Script = function NodeScript (code) {\r\n    if (!(this instanceof Script)) return new Script(code);\r\n    this.code = code;\r\n    \r\n    var iframe = this.iframe = document.createElement('iframe');\r\n    if (!iframe.style) iframe.style = {};\r\n    iframe.style.display = 'none';\r\n    \r\n    document.body.appendChild(iframe);\r\n    \r\n    var win = this.win = iframe.contentWindow;\r\n    var wEval = this.wEval = win.eval, wExecScript = win.execScript;\r\n\r\n    if (!wEval && wExecScript) {\r\n        // win.eval() magically appears when this is called in IE:\r\n        wExecScript.call(win, 'null');\r\n        this.wEval = win.eval;\r\n    }\r\n};\r\n\r\nScript.prototype.runInContext = function (context) {\r\n    if (!(context instanceof Context)) {\r\n        throw new TypeError(\"needs a 'context' argument.\");\r\n    }\r\n    \r\n    var win = this.win;\r\n    \r\n    forEach(Object_keys(context), function (key) {\r\n        win[key] = context[key];\r\n    });\r\n    forEach(globals, function (key) {\r\n        if (context[key]) {\r\n            win[key] = context[key];\r\n        }\r\n    });\r\n    \r\n    var winKeys = Object_keys(win);\r\n\r\n    var res = this.wEval.call(win, this.code);\r\n    \r\n    forEach(Object_keys(win), function (key) {\r\n        // Avoid copying circular objects like `top` and `window` by only\r\n        // updating existing context properties or new properties in the `win`\r\n        // that was only introduced after the eval.\r\n        if (key in context || indexOf(winKeys, key) === -1) {\r\n            context[key] = win[key];\r\n        }\r\n    });\r\n\r\n    forEach(globals, function (key) {\r\n        if (!(key in context)) {\r\n            defineProp(context, key, win[key]);\r\n        }\r\n    });\r\n    \r\n    return res;\r\n};\r\n\r\nScript.prototype.runInThisContext = function () {\r\n    return eval(this.code); // maybe...\r\n};\r\n\r\nScript.prototype.runInNewContext = function (context) {\r\n    var ctx = Script.createContext(context);\r\n    var res = this.runInContext(ctx);\r\n\r\n    forEach(Object_keys(ctx), function (key) {\r\n        context[key] = ctx[key];\r\n    });\r\n\r\n    return res;\r\n};\r\n\r\nforEach(Object_keys(Script.prototype), function (name) {\r\n    exports[name] = Script[name] = function (code) {\r\n        var s = Script(code);\r\n        return s[name].apply(s, [].slice.call(arguments, 1));\r\n    };\r\n});\r\n\r\nexports.createScript = function (code) {\r\n    return exports.Script(code);\r\n};\r\n\r\nexports.createContext = Script.createContext = function (context) {\r\n    var copy = new Context();\r\n    if(typeof context === 'object') {\r\n        forEach(Object_keys(context), function (key) {\r\n            copy[key] = context[key];\r\n        });\r\n    }\r\n    return copy;\r\n};\r\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n",
    "if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n",
    "// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    if (canPost) {\n        var queue = [];\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n}\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n",
    "module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}",
    "(function (process,global){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "(function (process,global){\nvar util = require(\"util\"),\r\n\tformat = util.format,\r\n\textend = util._extend,\r\n\tinherits = util.inherits,\r\n\tEventEmitter = require(\"events\").EventEmitter,\r\n\tActor = require('./lib/Actor'),\r\n\tSimulation = require(\"./lib/Simulation\"),\r\n\tStats = require(\"./lib/Stats\"),\r\n\tsetImmediate = global.setImmediate || process.nextTick;\r\n\r\nexports = module.exports = theMonk;\r\n\r\nfunction theMonk() {\r\n\tEventEmitter.call(this);\r\n\r\n\tthis.simulation = new Simulation();\r\n\tthis.simulation.on(\"start\", this.emit.bind(this, \"start\"));\r\n\tthis.simulation.on(\"progress\", this.emit.bind(this, \"progress\"));\r\n\tthis.simulation.on(\"end\", this.emit.bind(this, \"end\"));\r\n}\r\n\r\ninherits(theMonk, EventEmitter);\r\n\r\nextend(theMonk.prototype, {\r\n\r\n\tsimulation: null,\r\n\r\n\thasActor: function(name) {\r\n\t\treturn this.simulation.actors.some(function(actor) {\r\n\t\t\treturn actor.name === name;\r\n\t\t});\r\n\t},\r\n\r\n\taddActor: function(model, name, stats, rotation) {\r\n\t\tvar actors = this.simulation.actors;\r\n\r\n\t\tif(this.hasActor(name)) {\r\n\t\t\tthis.emit(\"warn\", format(\"Duplicate Actor '%s'.\", name));\r\n\t\t}\r\n\r\n\t\tactors.push(new Actor({\r\n\t\t\tmodel: model,\r\n\t\t\tname: name,\r\n\t\t\tstats: stats,\r\n\t\t\trotation: rotation,\r\n\t\t}).on(\"error\", function(e) {\r\n\t\t\tthis.cancel();\r\n\t\t\tthis.emit(\"error\", e);\r\n\t\t}.bind(this)));\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\taddActors: function(actors) {\r\n\t\tactors.forEach(function(actor) {\r\n\t\t\tthis.addActor.apply(this, actor);\r\n\t\t}, this);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetMaxTime: function(time) {\r\n\t\tthis.simulation.scheduled.maxTime = time;\r\n\t\treturn this;\r\n\t},\r\n\r\n\trun: function() {\r\n\r\n\t\tsetImmediate(this.simulation.run.bind(this.simulation));\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tcancel: function() {\r\n\t\tthis.simulation.cancel();\r\n\t\tthis.simulation.end();\r\n\t\treturn this;\r\n\t},\r\n\r\n\tuseValkkyFormulas: function() {\r\n\t\tStats.useValkkyFormulas();\r\n\t\treturn this;\r\n\t},\r\n\r\n\tuseCcbrownFormulas: function() {\r\n\t\tStats.useCcbrownFormulas();\r\n\t\treturn this;\r\n\t},\r\n\r\n});\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})"
  ]
}